<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">

    <!--<context:component-scan base-package="com.mogujie.algo"/>-->
    <!--<context:component-scan base-package="com.mgj.common"/>-->
    <!--<context:property-placeholder location="classpath*:algo_*.properties" ignore-unresolvable="true"/>-->

    <context:component-scan base-package="com.mgj.utils"/>

    <context:component-scan base-package="com.mgj.ml"/>

    <!--feature calculator config-->
    <bean id="userCategoryPreferFeatureCalculator" class="com.mgj.feature.impl.UserCategoryPreferFeatureCalculator">
        <property name="featureName" value="user_category_prefer"/>
        <property name="userField" value="userCategoryPrefer"/>
        <property name="itemField" value="category_id"/>
        <property name="userFieldPath" value="/user/digu/userGBPreferRecord"/>
        <property name="itemFieldPath" value=""/>
    </bean>

    <bean id="userCategoryPreferOrderFeatureCalculator"
          class="com.mgj.feature.impl.UserCategoryPreferFeatureCalculator">
        <property name="featureName" value="user_category_prefer_order"/>
        <property name="userField" value="userCategoryPreferOrder"/>
        <property name="itemField" value="category_id"/>
        <property name="userFieldPath" value="/user/digu/userGBPreferOrderRecord"/>
        <property name="itemFieldPath" value=""/>
    </bean>

    <bean id="userShopPreferFeatureCalculator" class="com.mgj.feature.impl.UserShopPreferFeatureCalculator">
        <property name="featureName" value="user_shop_prefer"/>
        <property name="userField" value="userShopPrefer"/>
        <property name="itemField" value="shop_id"/>
        <property name="userFieldPath" value="/user/digu/userShopPreferRecord"/>
        <property name="itemFieldPath" value=""/>
    </bean>

    <bean id="userShopPreferFeatureOrderCalculator" class="com.mgj.feature.impl.UserShopPreferFeatureCalculator">
        <property name="featureName" value="user_shop_prefer_order"/>
        <property name="userField" value="userShopPreferOrder"/>
        <property name="itemField" value="shop_id"/>
        <property name="userFieldPath" value="/user/digu/userShopPreferOrderRecord"/>
        <property name="itemFieldPath" value=""/>
    </bean>

    <bean id="userRealItemPreferFeatureCalculator" class="com.mgj.feature.impl.UserRealItemPreferFeatureCalculator">
        <property name="featureName" value="user_real_item_prefer"/>
        <property name="userField" value="userClickItem"/>
        <property name="itemField" value="itemSim"/>
        <property name="itemFieldPath" value="/user/digu/itemSimCurrentUsed"/>
        <property name="userFieldPath" value=""/>
    </bean>

    <bean id="itemCtrFeatureCalculator" class="com.mgj.feature.impl.ItemFeatureCalculator">
        <property name="featureName" value="item_ctr"/>
        <property name="userField" value=""/>
        <property name="itemField" value="itemCtr"/>
        <property name="itemFieldPath" value="/user/bizdata/ctrRecord"/>
        <property name="userFieldPath" value=""/>
    </bean>

    <bean id="itemSearchCtrFeatureCalculator" class="com.mgj.feature.impl.ItemFeatureCalculator">
        <property name="featureName" value="item_search_ctr"/>
        <property name="userField" value=""/>
        <property name="itemField" value="itemSearchCtr"/>
        <property name="itemFieldPath" value="/user/bizdata/searchCtrRecord"/>
        <property name="userFieldPath" value=""/>
    </bean>

    <bean id="userGenePreferFeatureCalculator" class="com.mgj.feature.impl.UserGenePreferFeatureCalculator">
        <property name="featureName" value="user_gene_prefer"/>
        <property name="userField" value="userGenePrefer"/>
        <property name="itemField" value="gene_id"/>
        <property name="userFieldPath" value="/user/digu/userGenePreferRecord"/>
        <property name="itemFieldPath" value="/user/digu/itemGeneRecord"/>
    </bean>

    <bean id="userGenePreferOrderFeatureCalculator" class="com.mgj.feature.impl.UserGenePreferFeatureCalculator">
        <property name="featureName" value="user_gene_prefer_order"/>
        <property name="userField" value="userGenePreferOrder"/>
        <property name="itemField" value="gene_id"/>
        <property name="userFieldPath" value="/user/digu/userGenePreferOrderRecord"/>
        <property name="itemFieldPath" value="/user/digu/itemGeneRecord"/>
    </bean>

    <bean id="userItemPreferFeatureCalculator" class="com.mgj.feature.impl.UserItemPreferFeatureCalculator">
        <property name="featureName" value="user_item_prefer"/>
        <property name="userField" value="userItemPrefer"/>
        <property name="itemField" value="item_id"/>
        <property name="userFieldPath" value="/user/digu/userItemPreferRecord"/>
        <property name="itemFieldPath" value=""/>
    </bean>

    <bean id="mfFeatureCalculator" class="com.mgj.feature.impl.MFFeatureCalculator">
        <property name="featureName" value="mf"/>
        <property name="userField" value="user_mf"/>
        <property name="itemField" value="item_mf"/>
        <property name="userFieldPath" value="/user/digu/itemMF/user"/>
        <property name="itemFieldPath" value="/user/digu/itemMF/product"/>
    </bean>

    <bean id="featureCalculatorFactory" class="com.mgj.feature.FeatureCalculatorFactory">
        <property name="calculators">
            <map>
                <entry key="user_category_prefer" value-ref="userCategoryPreferFeatureCalculator"></entry>
                <entry key="user_category_prefer_order" value-ref="userCategoryPreferOrderFeatureCalculator"></entry>
                <entry key="user_gene_prefer" value-ref="userGenePreferFeatureCalculator"></entry>
                <entry key="user_gene_prefer_order" value-ref="userGenePreferOrderFeatureCalculator"></entry>
                <entry key="user_shop_prefer" value-ref="userShopPreferFeatureCalculator"></entry>
                <entry key="user_shop_prefer_order" value-ref="userShopPreferFeatureOrderCalculator"></entry>
                <entry key="user_real_item_prefer" value-ref="userRealItemPreferFeatureCalculator"></entry>
                <entry key="item_ctr" value-ref="itemCtrFeatureCalculator"></entry>
                <entry key="item_search_ctr" value-ref="itemSearchCtrFeatureCalculator"></entry>
                <entry key="user_item_prefer" value-ref="userItemPreferFeatureCalculator"></entry>
                <entry key="mf" value-ref="mfFeatureCalculator"></entry>
            </map>
        </property>
    </bean>

</beans>
